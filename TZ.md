# Техническое задание: HabitFlow — Анализатор личной эффективности

## 1. Название и концепция
**Название:** HabitFlow
**Концепция:** Веб-сервис для трекинга ежедневных привычек (сон, гидратация, активность) и анализа их влияния на субъективную продуктивность и самочувствие пользователя. Проблема, которую решает сервис — отсутствие наглядной связи между рутиной и результативностью дня.

## 2. Целевая аудитория и роли
*   **Гость:** Видит лендинг с описанием возможностей сервиса и демо-графиками.
*   **Авторизованный пользователь:** Может создавать свои привычки, вести ежедневный дневник, просматривать персональную статистику и корреляционный анализ.
*   **Администратор:** Управление пользователями и контентом через админ-панель Django.

## 3. Схема данных (Сущности)

### Модель 1: Habit (Привычка)
Определяет тип активности, которую отслеживает пользователь.
*   `user` (ForeignKey): Владелец привычки.
*   `name` (Char): Название (например, "Сон", "Чтение").
*   `category` (Choice: Health, Productivity, Mindfulness): Категория.
*   `target_value` (Float): Целевое значение (например, 8 часов).
*   `unit` (Char): Единица измерения (ч, мл, стр).

### Модель 2: DailyEntry (Ежедневная запись)
Сводная запись за день, содержащая метрики самочувствия.
*   `user` (ForeignKey): Пользователь.
*   `date` (Date): Дата записи.
*   `productivity_score` (Int 1-10): Оценка продуктивности.
*   `mood_score` (Int 1-10): Оценка настроения.
*   `notes` (Text): Заметки.

### Модель 3: HabitLog (Выполнение привычки)
Конкретное выполнение привычки в рамках дня.
*   `entry` (ForeignKey к DailyEntry): Ссылка на день.
*   `habit` (ForeignKey к Habit): Ссылка на привычку.
*   `value` (Float): Фактическое значение.

*Связи:* Один день (`DailyEntry`) имеет много записей привычек (`HabitLog`). Привычка (`Habit`) принадлежит пользователю.

## 4. Основные сценарии пользователя (User Stories)
1.  **Создание привычек:** Пользователь настраивает профиль, добавляя привычки для слежения (Сон, Вода, Спорт).
2.  **Ежедневный лог:** Вечером пользователь заполняет форму за день: ставит оценки настроению/продуктивности и вводит данные по каждой привычке.
3.  **Аналитика:** Пользователь открывает раздел "Анализ" и видит график корреляции: как продолжительность сна влияет на оценку продуктивности следующего дня (или того же дня).

## 5. Технический стек и интеграции
*   **Backend:** Django 4.2+
*   **Frontend:** Tailwind CSS (стилизация форм, таблиц, дашборда).
*   **Аналитика:** Pandas (расчет корреляции Пирсона между привычками и оценками), Matplotlib (генерация графиков в Base64 для отображения на странице).
*   **Управление зависимостями:** uv.
